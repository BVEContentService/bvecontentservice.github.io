---
layout: page
title: "Prepare Files"
navbar: "Upload"
---

由于内容服务不仅要提供文件，还要提供相关信息、预览图等，所以您需要撰写一些内容与配置文件，并使您的线路档案符合我们所需的格式。

如您在遵循此文档操作的过程中遇到问题，欢迎您致函 [zbx1425@outlook.com](mailto:zbx1425@outlook.com) 。但请您**一定在完全阅读本文档且仍无法理解的情况下发送邮件。**对于本文档中已涉及的问题恕不解答。

### 前言

虽然有些偏题，**请勿高估计算机的智力水平。**虽然有大言不惭之嫌，近年来许多人对于计算机能做到什么这事仍然有些误解。电脑真的都是傻子，所以请您切勿在各类名称或文件等处省下几字，然后指望它能推断一些诸类的事项。您真的必须做到一字不差，否则它就真的不给干活。

虽然本文很长，但这是为了概括到BCS的所有功能，BCS的基础使用并不复杂。您不需采用本文所述的所有功能即可上传路线。如下方标出了一些“高级用法”，您若不需即可不用。

由于个人语文水平堪忧，下方对于文件夹和文件的描述可能略显抽象。因此在这里先给您一个示例。如果您在阅读下方指南的过程中有所不解，可随时参阅。

此示例中，一个Email为 1234567890@qq.com 的同志上传了 3 条线路，每条都有路线预览图片，并采取了TXT/HTML描述文字。

```
1234567890.qq.com
│  author.ini
│
├─CSSSC-Guangzhou Metro Line 1
│      CSSSC-Guangzhou Metro Line 1_1.1.ini
│      CSSSC-Guangzhou Metro Line 1.txt
│      CSSSC-Guangzhou Metro Line 1.jpg
│      CSSSC-Guangzhou Metro Line 1_1.1_h2.zip
│
├─CSSSC-Pyongyang Metro CLM Line
│      CSSSC-Pyongyang Subway CLM Line_1.1_h2.zip
│      CSSSC-Pyongyang Subway CLM Line.html
│      CSSSC-Pyongyang Subway CLM Line.jpg
│      CSSSC-Pyongyang Subway CLM Line_1.1.ini
│
└─CSSSC-Guangzhou Metro Line 6
        CSSSC-Guangzhou Metro Line 6_2.0.ini
        CSSSC-Guangzhou Metro Line 6_2.0.txt
        CSSSC-Guangzhou Metro Line 6.jpg
        CSSSC-Guangzhou Metro Line 6_2.0_h2.zip
```

### 准备工作

1. 在您的电脑上您喜爱的位置新建一个空文件夹。
2. 在这个空文件夹之中，新建一个以您目前能够使用的Email为名的文件夹。请将`@`换成`.`。如`zbx1425.outlook.com`。  
   接下来提到的所有操作都将在这个以您的Email为名的文件夹中进行。

### 填写个人信息 (仅需一次)

2. **请使用[此处的自动生成工具](https://api.zbx1425.tk:8953/bcs-src/tool/authorini.html)**，填入您的必要信息。将鼠标移动到文本框上即可查看关于填写的指引事项。**请将Description一栏留空。**在工具网页中填好所有内容后，按“提交”，就会自动生成并下载一份`author.ini`文件，您只需将其放置到上述文件夹内即可。必须**直接放在以Email为名的目录**下，而非其子目录内。

   部分浏览器可能提醒该文件有安全风险，个人以人格担保请您放一百个心。而且实际上ini文件是纯文字文件，不含程序代码，根本无法对您的电脑进行任何操作。如您实在较为谨慎，也可使用杀毒软件检查。
   
3. （可选）您可以写一段文字来描述您自己。在`author.ini`文件旁创建`author.txt`，然后在其中写入描述文字。（高级用法）若您熟悉HTML，您可改为创建`author.html`来为您的描述页加上各种特效、图片、视频。

4. （高级用法）如您需要修改ini文件，您既可重新填写生成，也可手动编辑。请一定使用**英文引号**放在您文字的两侧，请注意**检查引号是否配对**。由于Windows自带的记事本功能较少，较推荐您安装使用Sublime Text作为编辑器，或Notepad++。在保存文本时注意采用 `UTF-8` 字符编码，最好`无BOM`。

### 填写线路信息

author.ini必须放置在根目录处，但索引程序对您线路的要求就较松了。您可自由组织目录结构，将以下文件直接放在Email为名的目录内，也可放在其任意子目录内。

1. **请使用[此处的自动生成工具](https://api.zbx1425.tk:8953/bcs-src/tool/packini.html)**。照样是将鼠标移动到文本框上即可查看关于填写的指引事项。
   此处列出需要强调的几点：
   
   **ID。必须全英文。可包括26个大小写字母、数字、空格、及横线 `-`，但不要包括下划线 `_` 。**  
   这是显示在Hmmsim菜单中的名称。例如：`Tokyo Metro Tozai Line`，`CWTFSC-Beijing Metro Line 3`
   
   **线路版本。**很多作者们和中心们会给线路提供多次更新，因此客户端拥有自动更新功能，当线上的版本号更新时会自动提示下载新版线路。BCS只支持由数字和点组成的版本号，**请勿输入空格和字母。**如`3.6.1`。如果您所上传的线路无版本或并不关心版本号，您可自由发挥，但建议您使用 `1.0` 或 `0.0` 。
   
   （高级用法）如需为线路发布更新，在上传新版本线路后，您既可删除旧版本zip、ini等，也可不删除。在默认情况下，新版本线路会自动在软件菜单中顶替掉旧版本线路的位置。如用户打开设置中的“显示所有路线包”，则仍可查看和下载未删除的旧版本线路。
   
2. 根据您的线路属于自制还是转载，选择一项：

   #### 如您要上传的是自制线路：

   1. 正确填入线路信息，推荐您填写Homepage，即线路介绍页面，可以是您的官网网页，也可是贴吧、论坛等发布线路页面等。

   2. （高级用法）如您希望玩家在下载时要阅览您的Homepage，可勾选 AutoOpen， 这样按下下载按钮后即会自动弹出。如您想要使用某种方式保证玩家读完您的主页上部分内容，您可在主页添加一个指向`bcs://startDownload`的链接，并勾选 ForceView，这样只有点击您的这一链接才能开始下载。*注意：若您没有设置这一链接却勾选了ForceView，就无人可下到线路。*

   3. （高级用法）您可使用RouteObfuscator混淆线路以缩减大小并尽量阻止侵权行为。

   4. 根据您所使用的网盘, 选择一项：

      - 您不使用网盘：  
        **必须** 上传文件

        显而易见，不是么？hhh

      - 该网盘不可在浏览器中下载(如百度云网盘等必须安装客户端)：  
        或者该网盘国内无法访问或速度极慢(如Google Drive, Dropbox)：  
        **必须** 上传文件

        这网盘有和没有一样……或者您可考虑换个网盘。

      - 线路文件在外链网盘(即不需中途进入网盘网站，点击链接即可直接下载到文件)：  
        **不需** 上传文件

        1. 链接 File_H2，填入zip文件链接  
           如 `https://nicedisk-12345678.cos.ap-chengdu.myqcloud.com/Saijo-sen.zip`
        2. 设定 FileSize_H2，填入文件大小，如"15.3MB"
        3. 勾选 AutoOpen

      - 线路文件在非外链网盘(必须进入网盘网站，在该处按一个下载按钮才可下载到文件)：  
        **不需** 上传文件

        1. 链接 File_H2，填入网盘页面链接  
           如 `https://ux.getuploader.com/hi03_RTM_NP/download/13`
        2. 设定 FileSize_H2，填入文件大小，如"15.3MB"
        3. 勾选 GuidedDownload
        4. 在书写描述文字时，要添加协助玩家从网盘下载文件的操作说明（因为有些网盘有着英文或日文界面，很可能难以找到下载按钮）

   #### 如您要上传的是转载线路：

   1. **正确填入线路信息和转载原作者信息**  
      **必须填写。**将鼠标放到文本框上会弹出填写提示。选中文本框可以让填写提示不消失。

   2. **在Homepage填入作者发布路线的页面**  
      例如  `http://www.csssc.com.cn/lgz1.html`  
      **必须填写。**管理团队将随时删除没有正确填写Homepage的线路，恕不通知。

   3. **先仔细润色一下描述文字**  
      线路描述可以吸引玩家下载您的线路。  
      并且请您一定要使用各种溢美之词表示对线路质量的赞美和对原作者的感谢。

   4. 根据是否获得了转载授权，选择一项：

   - 已获作者许可转换与转载：  
     **可以** 自动安装
     - 作者在官网提供了Hmmsim版线路下载链接：  
       根据作者所使用的网盘, 选择一项：
       - 线路文件不可在浏览器中下载(如百度云网盘等必须安装客户端)：  
         或者该网盘国内无法访问或速度极慢(如Google Drive, Dropbox)：  
         **必须** 上传文件
         1. （高级用法）推荐使用RouteObfuscator混淆线路以缩减大小并尽量阻止侵权行为
         2. 勾选 AutoOpen
       - 线路文件在外链网盘(即不需中途进入网盘网站，点击链接即可直接下载到文件)：  
         **不需** 上传文件
         1. 链接 File_H2，填入zip文件链接  
            如 `https://nicedisk-12345678.cos.ap-chengdu.myqcloud.com/Saijo-sen.zip`
         2. 设定 FileSize_H2，填入文件大小，如"15.3MB"
         3. 勾选 AutoOpen
       - 线路文件在非外链网盘(必须进入网盘网站，在该处按一个下载按钮才可下载到文件)：  
         **不需** 上传文件
         1. 链接 File_H2，填入网盘页面链接  
            如 `https://ux.getuploader.com/hi03_RTM_NP/download/13`
         2. 设定 FileSize_H2，填入文件大小，如"15.3MB"
         3. 勾选 GuidedDownload
         4. 在书写描述文字时，要添加协助玩家从网盘下载文件的操作说明（因为许多网盘有着英文或日文界面，很可能难以找到下载按钮）
     - 作者只提供了OpenBVE或BVE4版线路下载链接：  
       **必须** 上传文件
       1. 使用Hmmsim转换程序将线路转换为Hmmsim版
       2. （高级用法）推荐使用RouteObfuscator混淆线路以缩减大小并尽量阻止侵权行为
   - 未获作者许可：  
     **注意！如果原作者未提供Hmmsim版线路，您不能按下面执行——必须获得许可才可转换线路。**  
     **严禁** 上传文件  
     根据作者所使用的网盘, 选择一项：
     - 线路文件可直接在浏览器中下载(如Uploader.jp等网盘)：  
       **可以** 自动安装
       1. 链接 File_H2，填入路线发布页链接  
          如 `http://tozai.s77.xrea.com/BVE/ETozai.html`
       2. 设定 FileSize_H2，填入文件大小，如"15.3MB"
       3. 勾选 GuidedDownload 
       4. 在书写描述文字时，要添加协助玩家从发布页进入网盘页面，并从网盘下载文件的操作说明（因为许多网盘有着英文或日文界面，很可能难以找到下载按钮）
     - 线路文件不可在浏览器中下载(如百度云网盘等必须安装客户端)：  
       **无法** 自动安装
       1. 勾选 NoFile
       2. 在书写描述文字时，要添加提供协助玩家全手动下载与安装路线的说明。

3. **书写描述文字。请将Description一栏留空。**虽然描述文字并非必须，但写一段描述文字可以让玩家更快了解您的线路。和上面一样，照样是txt和html都可以使用，放在ini旁边即可。  
   **文件名应与ini的文件名相同**，如`MTR Modified Initial System_1.0.ini` -> `MTR Modified Initial System_1.0.txt`。不过考虑到一些线路版本间描述信息无大变化，因此名称既可加也可不加版本号，如 `MTR Modified Initial System_1.0.txt` 与 `MTR Modified Initial System.txt` 均有效。  
   如同时存在，将优先选择有着对应版本号的描述文件。  
   （高级用法）**也可使用外部网站上内容作描述文字。**此时在Description框内直接填入其网址即可。

4. （可选）**设置路线预览图片。**索引程序接受 png 与 jpg 格式图片，同样是版本号加不加均可。如 `MTR Modified Initial System.png `，同样放置在ini旁边即自动识别。图片也可省略，如省略会使用倒也不难看的默认图片。  
   （高级用法）**如您使用外部图床**，您可在底部Thumbnail一栏填入图片直链地址，如 `https://openbve-project.net/images/logo.png` 来人工指定预览图片，同时不要在目录下放置图片既可。

   重要的事情说两遍：描述文件和预览图片要与 ini 文件放置在**同一目录下**，也就是放在它旁边。 

### 准备上传文件

若您的线路符合上述“必须上传文件”的情况，请准备好您的zip格式线路档，并改为适当名称以便索引程序搜索。如您不需上传文件，直接到下一步即可。

复制过来您所有的zip格式线路档，并将其命名为：

```
[ID]_[版本号]_[模拟程序].zip
```

“模拟程序”部分中，`h2 `代表Hmmsim2，`ob`代表openBVE，`b5`代表BVE5。（可惜当前尚未支持OB与B5）
代表模拟程序的字母应小写。您还可参照最上方目录树样例。例如：

```
MTR Modified Initial System_1.0_h2.zip
```

### 大功告成

此时您已经准备好相应的资料，可以将您的路线档上传到内容服务平台了。有些复杂，辛苦您了！

### 接下来呢?

内容服务平台没有被设计成由一个单一的服务器组成的平台，因为单一的服务器不仅储量有限，且价格昂贵，维护如此的服务器也超出了个人拥有的人力物力。因此，我们十分建议各位尽量把路线档上传到各类Pages等在线免费可外链存储、托管服务，以分散载荷。较好的免费文件托管方式如下：

| 服务名称             | 单文件大小限制 | 单储存库限制 | 总大小限制 |
| -------------------- | -------------- | ------------ | ---------- |
| 码云Pages            | 100MB          | 500MB        | 每人 5GB   |
| TeraCloud            | 无限制         | 不分库       | 每人 20GB  |
| **天津公用源服务器** | 1000MB         | 不分库       | 共用 58GB  |

总体来说，码云Pages综合性能最佳，但单文件大小卡得较死；TeraCloud很好，但部分运营商访问速度较慢，请尝试直连或反向代理后(详见TeraCloud上传教程)速度是否可接受；如有问题再使用公用源服务器。不过如果您想省事，直接公用源就完了。

请根据您线路的条件选择相应教程：

* [上传到TeraCloud或其它外链网盘](clouddisk.html)
* [上传到公用源服务器](publicsrc.html)
* 上传到Pages或其它Git服务